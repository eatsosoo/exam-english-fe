var q=(C,h,r)=>new Promise((f,l)=>{var m=a=>{try{u(r.next(a))}catch(t){l(t)}},p=a=>{try{u(r.throw(a))}catch(t){l(t)}},u=a=>a.done?f(a.value):Promise.resolve(a.value).then(m,p);u((r=r.apply(C,h)).next())});import{_ as b}from"./CurrentPermissionMode.vue_vue_type_script_setup_true_lang-CHkGDX-p.js";import{ar as P,K as B,p as N,u as S,by as A,d as D}from"./entry/index-BcidWyMC.js";import{A as k}from"./index-D9iK7ytf.js";import{P as w}from"./index-DnpQZsBg.js";import{d as T,c as V,a7 as $,n as K,Z as c,a8 as i,a9 as e,k as n,$ as v,G as s,a0 as M,u as o,_ as X,ab as y,m as g,F as E}from"./vue-DhXvXWyK.js";import{a7 as d,al as F}from"./antd-BFwNME3X.js";import"./PageWrapper.vue_vue_type_style_index_0_lang-wgu38p8X.js";import"./useContentViewHeight-CCI8OV4I.js";import"./useWindowSizeFn-SAmktNkd.js";import"./onMountedOrActivated-CvY6VkYA.js";const I=T({__name:"Btn",setup(C){const{hasPermission:h}=P(),r=B(),f=N(),l=S(),m=V(()=>f.getProjectConfig.permissionMode===A.BACK);function p(u){return q(this,null,function*(){const a="fakeToken"+u;l.setToken(a),l.getUserInfoAction(),r.changePermissionCode()})}return(u,a)=>{const t=$("a-button"),_=K("auth");return c(),i(o(w),{contentBackground:"",title:"Kiểm soát quyền nút bấm",contentClass:"p-4"},{default:e(()=>[n(b),v("p",null,[s(" Danh sách code hiện tại có quyền: "),v("a",null,M(o(r).getPermCodeList),1)]),n(o(d)),n(o(F),{class:"mt-4",type:"info",message:"Nhấn vào để xem sự thay đổi của nút (Chức năng này chỉ có thể được kiểm tra khi ở chế độ quyền quản trị viên)","show-icon":""}),n(o(d)),n(t,{type:"primary",class:"mr-2",onClick:a[0]||(a[0]=x=>p(2)),disabled:!m.value},{default:e(()=>[s(" Nhấn để thay đổi quyền nút (Người dùng có id là 2) ")]),_:1},8,["disabled"]),n(t,{type:"primary",onClick:a[1]||(a[1]=x=>p(1)),disabled:!m.value},{default:e(()=>[s(" Nhấn để thay đổi quyền nút (Người dùng có id là 1, mặc định) ")]),_:1},8,["disabled"]),m.value?(c(),X(E,{key:0},[n(o(d),null,{default:e(()=>[s("Xác định quyền bằng thành phần")]),_:1}),n(o(k),{value:"1000"},{default:e(()=>[n(t,{type:"primary",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['1000'] ")]),_:1})]),_:1}),n(o(k),{value:"2000"},{default:e(()=>[n(t,{color:"success",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['2000'] ")]),_:1})]),_:1}),n(o(k),{value:["1000","2000"]},{default:e(()=>[n(t,{color:"error",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['1000','2000'] ")]),_:1})]),_:1}),n(o(d),null,{default:e(()=>[s("Xác định quyền bằng hàm")]),_:1}),o(h)("1000")?(c(),i(t,{key:0,type:"primary",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['1000'] ")]),_:1})):y("",!0),o(h)("2000")?(c(),i(t,{key:1,color:"success",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['2000'] ")]),_:1})):y("",!0),o(h)(["1000","2000"])?(c(),i(t,{key:2,color:"error",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['1000','2000'] ")]),_:1})):y("",!0),n(o(d),null,{default:e(()=>[s("Xác định quyền bằng chỉ thị (Phương pháp này không thể thay đổi quyền động)")]),_:1}),g((c(),i(t,{type:"primary",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['1000'] ")]),_:1})),[[_,"1000"]]),g((c(),i(t,{color:"success",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['2000'] ")]),_:1})),[[_,"2000"]]),g((c(),i(t,{color:"error",class:"mx-4"},{default:e(()=>[s(" Chỉ hiển thị khi có quyền code ['1000','2000'] ")]),_:1})),[[_,["1000","2000"]]])],64)):y("",!0)]),_:1})}}}),R=D(I,[["__scopeId","data-v-b98fec1b"]]);export{R as default};

import{i as s}from"./mock-api-Btehnvii.js";import{P as c}from"./index-DnpQZsBg.js";import{b4 as l,aD as d,B as t,O as p,j as g}from"./antd-BFwNME3X.js";import{d as i,k as e,G as u}from"./vue-DhXvXWyK.js";import{u as f}from"./index-Bl3eMUS3.js";import"./entry/index-BcidWyMC.js";import"./PageWrapper.vue_vue_type_style_index_0_lang-wgu38p8X.js";import"./useContentViewHeight-CCI8OV4I.js";import"./useWindowSizeFn-SAmktNkd.js";import"./onMountedOrActivated-CvY6VkYA.js";const C=i({setup(){const{data:a,loading:n,run:r,cancel:o}=f(s,{pollingInterval:1e3,pollingWhenHidden:!1});return()=>e(p,{title:"默认用法"},{default:()=>[e(l,null,{default:()=>[e(l.Paragraph,null,{default:()=>[u("通过设置"),e(l.Text,{type:"danger"},{default:()=>[u(" options.pollingInterval ")]}),u("，进入轮询模式，useRequest 会定时触发 service 执行。")]}),e(l.Paragraph,null,{default:()=>[e(l.Text,{code:!0},{default:()=>["const { data, run, cancel } = useRequest(imitateApi, { pollingInterval: 3000 });"]})]})]}),e("div",null,[e("div",null,[u("Username: "),n.value?"Loading":a.value]),e(d,null,{default:()=>[e(t,{onClick:()=>r()},{default:()=>[u("start")]}),e(t,{type:"dashed",onClick:o},{default:()=>[u("stop")]})]})])]})}}),F=i({setup(){const{data:a,loading:n,run:r,cancel:o}=f(s,{manual:!0,pollingInterval:3e3,pollingErrorRetryCount:3,pollingWhenHidden:!1,onError:m=>{g.error(m.message)}});return()=>e(p,{title:"轮询错误重试",class:"mt-2"},{default:()=>[e(l,null,{default:()=>[e(l.Paragraph,null,{default:()=>[u("通过"),e(l.Text,{type:"danger"},{default:()=>[u(" options.pollingErrorRetryCount ")]}),u("轮询错误重试次数。")]}),e(l.Paragraph,null,{default:()=>[e(l.Text,{code:!0},{default:()=>["const { data, run, cancel } = useRequest(imitateApi, { pollingInterval: 3000,  pollingErrorRetryCount: 3 });"]})]})]}),e("div",null,[e("div",null,[u("Username: "),n.value?"Loading":a.value]),e(d,null,{default:()=>[e(t,{onClick:()=>r("lutz",!1)},{default:()=>[u("start")]}),e(t,{type:"dashed",onClick:o},{default:()=>[u("stop")]})]})])]})}}),T=i({setup(){return()=>e(c,null,{default:()=>[e(C,null,null),e(F,null,null)]})}});export{T as default};

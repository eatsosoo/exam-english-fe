var b=Object.defineProperty;var f=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var v=(e,s,r)=>s in e?b(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,F=(e,s)=>{for(var r in s||(s={}))I.call(s,r)&&v(e,r,s[r]);if(f)for(var r of f(s))T.call(s,r)&&v(e,r,s[r]);return e};var y=(e,s,r)=>new Promise((n,t)=>{var u=c=>{try{d(r.next(c))}catch(a){t(a)}},_=c=>{try{d(r.throw(c))}catch(a){t(a)}},d=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,_);d((r=r.apply(e,s)).next())});import{a as h}from"./entry/index-BcidWyMC.js";import{f as S,c as l,u as i,d as x,Z as E,_ as B,a0 as G}from"./vue-DhXvXWyK.js";var m=(e=>(e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.RESET_PASSWORD=2]="RESET_PASSWORD",e[e.MOBILE=3]="MOBILE",e[e.QR_CODE=4]="QR_CODE",e))(m||{});const P=S(0),{t:o}=h();function j(){function e(n){P.value=n}const s=l(()=>P.value);function r(){e(0)}return{setLoginState:e,getLoginState:s,handleBackLogin:r}}function k(e){const s=l(()=>{var t;const n=i(e);return(t=n==null?void 0:n.validate)!=null?t:u=>Promise.resolve()});function r(){return y(this,null,function*(){const n=i(e);return n?yield n.validate():void 0})}return{validate:s,validForm:r}}function A(e){const s=l(()=>R(o("sys.login.accountPlaceholder"),"user_name")),r=l(()=>R(o("sys.login.namePlaceholder"),"name")),n=l(()=>R(o("sys.login.passwordPlaceholder"),"password")),t=l(()=>R(o("sys.login.mobilePlaceholder"),"phone_number")),u=l(()=>R(o("sys.login.emailPlaceholder"),"email")),_=(a,p)=>y(this,null,function*(){return p?Promise.resolve():Promise.reject(o("sys.login.policyPlaceholder"))}),d=a=>(p,g)=>y(this,null,function*(){return g?g!==a?Promise.reject(o("sys.login.diffPwd")):Promise.resolve():Promise.reject(o("sys.login.passwordPlaceholder"))});return{getFormRules:l(()=>{const a=i(s),p=i(r),g=i(n),w=i(t),O=i(u);switch(i(P)){case 1:return{username:a,name:p,password:g,phone_number:w,email:O,confirmPassword:[{validator:d(e==null?void 0:e.password),trigger:"change"}],policy:[{validator:_,trigger:"change"}]};default:return{username:a,password:g}}})}}function R(e,s){const r={required:!0,message:e,trigger:"change"},n={phone_number:{len:10,message:o("sys.validate.len",{len:10})},user_name:{min:6,message:o("sys.validate.min",{min:6})},password:{min:8,message:o("sys.validate.min",{min:8})},name:{min:3,message:o("sys.validate.min",{min:3})},email:{type:"email",message:o("sys.validate.email")}};return[F(F({},r),n[s])]}const C={class:"mb-3 text-2xl font-bold text-center xl:text-3xl enter-x xl:text-left"},D=x({__name:"LoginFormTitle",setup(e){const{t:s}=h(),{getLoginState:r}=j(),n=l(()=>({[m.RESET_PASSWORD]:s("sys.login.forgetFormTitle"),[m.LOGIN]:s("sys.login.signInFormTitle"),[m.REGISTER]:s("sys.login.signUpFormTitle"),[m.MOBILE]:s("sys.login.mobileSignInFormTitle"),[m.QR_CODE]:s("sys.login.qrSignInFormTitle")})[i(r)]);return(t,u)=>(E(),B("h2",C,G(n.value),1))}});export{m as L,D as _,A as a,k as b,j as u};

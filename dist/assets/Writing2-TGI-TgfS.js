var y=(m,p,t)=>new Promise((s,r)=>{var o=e=>{try{n(t.next(e))}catch(i){r(i)}},f=e=>{try{n(t.throw(e))}catch(i){r(i)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,f);n((t=t.apply(m,p)).next())});import{c as S,a as k,b as C,d as W}from"./entry/index-BcidWyMC.js";import{T as M}from"./index-C3lnRWnE.js";import{W as _}from"./data-C-2nBY8q.js";import{d as T}from"./exam-CAJo7aCX.js";import{d as V,f as b,w as j,Z as q,_ as A,k as g,a9 as x,u as d,$ as h,a0 as E}from"./vue-DhXvXWyK.js";import{aa as I,ab as B}from"./antd-BFwNME3X.js";import"./uuid-D0SLUWHI.js";import"./onMountedOrActivated-CvY6VkYA.js";const D={class:"bg-white px-2 mb-8"},F={class:"p-4 my-4 re-box-shadow rounded-lg"},N=V({__name:"Writing2",props:{value:{type:Array,default:_},type:{type:String,default:"writing"}},setup(m,{expose:p}){const t=m,{t:s}=k(),r=b(!1),o=b(t.value),{createErrorModal:f,createSuccessModal:n}=C(),{prefixCls:e}=S("register");function i(l){return y(this,null,function*(){var c;try{r.value=!0;const{subject:a,questions:u,id:w}=o.value[0],v={id:w||null,exam_id:l,type:"Writing",subject:a,questions:u,duration:500,media:null,questions_count:u.length};(yield T(v))&&n({title:s("form.exam.editSkill",{skill:"Writing"}),content:s("common.createSuccessfully"),getContainer:()=>document.body.querySelector(`.${e}`)||document.body})}catch(a){if(a.errorFields)return;const u=(c=a.response)==null?void 0:c.data.message;f({title:s("sys.api.errorTip"),content:u||a.message||s("sys.api.networkExceptionMsg"),getContainer:()=>document.body.querySelector(`.${e}`)||document.body})}finally{r.value=!1}})}return j(()=>t.value,l=>{o.value=l.length===0?_:l}),p({submitAll:i}),(l,c)=>(q(),A("div",D,[g(d(B),{gutter:[16,16]},{default:x(()=>[g(d(I),{span:24},{default:x(()=>[h("div",F,[h("h3",null,E(d(s)("common.writingSubject")),1),g(d(M),{modelValue:o.value[0].subject,"onUpdate:modelValue":c[0]||(c[0]=a=>o.value[0].subject=a),width:"100%",height:"600px"},null,8,["modelValue"])])]),_:1})]),_:1})]))}}),K=W(N,[["__scopeId","data-v-cb378652"]]);export{K as default};

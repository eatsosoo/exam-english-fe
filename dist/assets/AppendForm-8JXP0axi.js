var $=(h,d,t)=>new Promise((b,o)=>{var v=e=>{try{p(t.next(e))}catch(s){o(s)}},_=e=>{try{p(t.throw(e))}catch(s){o(s)}},p=e=>e.done?b(e.value):Promise.resolve(e.value).then(v,_);p((t=t.apply(h,d)).next())});import{_ as k}from"./BasicForm.vue_vue_type_script_setup_true_lang-DbX2m63q.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BL3smh9L.js";import"./componentMap-BjYe58Mw.js";import{u as y}from"./useForm-CX4sdfhA.js";import{b5 as I,b as W}from"./entry/index-BcidWyMC.js";import{P as w}from"./index-DnpQZsBg.js";import{d as A,f as g,a7 as M,Z as c,a8 as f,a9 as a,k as l,u as n,G as u,ab as C}from"./vue-DhXvXWyK.js";import"./FormItem.vue_vue_type_script_lang-BQsfJt-d.js";import"./helper-JLwI6lBn.js";import"./antd-BFwNME3X.js";import"./index-DVzcH--h.js";import"./useWindowSizeFn-SAmktNkd.js";import"./useFormItem-oxzr_Srp.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-DFfZeCIC.js";import"./index-BKjGR123.js";import"./uuid-D0SLUWHI.js";import"./useSortable-Chl02yjp.js";import"./download-C8Z1CAz1.js";import"./base64Conver-bBv-IO2K.js";import"./index-BQqLbfF_.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-D_32YSSg.js";import"./copyTextToClipboard-DJj00FMq.js";import"./index-BH-x8rO3.js";import"./index-BO5ERYHo.js";import"./PageWrapper.vue_vue_type_style_index_0_lang-wgu38p8X.js";import"./useContentViewHeight-CCI8OV4I.js";import"./onMountedOrActivated-CvY6VkYA.js";const be=A({__name:"AppendForm",setup(h){const{createMessage:d}=W(),t=g(0),[b,{appendSchemaByField:o,removeSchemaByField:v,validate:_}]=y({schemas:[{field:"field0a",component:"Input",label:"字段0",required:!0},{field:"field0b",component:"Input",label:"字段0",required:!0},{field:"0",label:" ",slot:"add"}],labelWidth:100,actionColOptions:{span:24},baseColProps:{span:8}});function p(){return $(this,null,function*(){try{const i=yield _();d.success("请前往控制台查看输出")}catch(i){}})}const e=g(1);function s(){o({field:`field${e.value}a`,component:"Input",label:"字段"+e.value,required:!0},""),o({field:`field${e.value}b`,component:"Input",label:"字段"+e.value,required:!0},""),o({field:`${e.value}`,component:"Input",label:" ",slot:"add"},""),e.value++}function F(){o([{field:`field${e.value}a`,component:"Input",label:"字段"+e.value,required:!0},{field:`field${e.value}b`,component:"Input",label:"字段"+e.value,required:!0},{field:`${e.value}`,component:"Input",label:" ",slot:"add"}],""),e.value++}function S(i){v([`field${i}a`,`field${i}b`,`${i}`]),e.value--}const[G,{appendSchemaByField:B,removeSchemaByField:P,getFieldsValue:O,setFieldsValue:q}]=y({schemas:[{field:`field[${t.value}].a`,component:"Input",label:"字段a",colProps:{span:9}},{field:`field[${t.value}].b`,colProps:{span:9},component:"Input",label:"字段b"}],labelWidth:100,actionColOptions:{span:24},baseColProps:{span:8}});function N(){t.value++,B([{field:`field[${t.value}].a`,component:"Input",colProps:{span:9},label:"字段a"},{field:`field[${t.value}].b`,component:"Input",colProps:{span:9},label:"字段b"}],"")}function V(){P([`field[${t.value}].a`,`field[${t.value}].b`]),t.value--}function x(){q({field:[{a:"默认a",b:"默认b"}]})}function R(){d.success("请前往控制台查看输出")}return(i,T)=>{const r=M("a-button");return c(),f(n(w),{title:"表单增删示例"},{default:a(()=>[l(n(I),{title:"表单项增删"},{default:a(()=>[l(n(k),{onRegister:n(b),onSubmit:p},{add:a(({field:m})=>[Number(m)===0?(c(),f(r,{key:0,onClick:s},{default:a(()=>[u("+")]),_:1})):C("",!0),Number(m)===0?(c(),f(r,{key:1,class:"ml-2",onClick:F},{default:a(()=>[u(" 批量添加表单配置 ")]),_:1})):C("",!0),Number(m)>0?(c(),f(r,{key:2,onClick:()=>S(m)},{default:a(()=>[u("-")]),_:2},1032,["onClick"])):C("",!0)]),_:1},8,["onRegister"])]),_:1}),l(n(I),{title:"表单组增删",class:"my-3"},{default:a(()=>[l(r,{onClick:x},{default:a(()=>[u("设置初始值")]),_:1}),l(r,{class:"m-2",onClick:N},{default:a(()=>[u(" 批量添加表单 ")]),_:1}),l(r,{onClick:V},{default:a(()=>[u("批量减少表单")]),_:1}),l(n(k),{onRegister:n(G),onSubmit:R},null,8,["onRegister"])]),_:1})]),_:1})}}});export{be as default};

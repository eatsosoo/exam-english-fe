import{_ as c}from"./BasicForm.vue_vue_type_script_setup_true_lang-DbX2m63q.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BL3smh9L.js";import"./componentMap-BjYe58Mw.js";import{u as m}from"./useForm-CX4sdfhA.js";import{b as f}from"./entry/index-BcidWyMC.js";import{u as p}from"./upload-BWv7uHR2.js";import{al as y,B as l}from"./antd-BFwNME3X.js";import{d as g,Z as _,_ as b,k as n,u as o,F as v}from"./vue-DhXvXWyK.js";const R=g({__name:"Upload4",setup(w){const{createMessage:s}=f(),d=[{field:"field5",component:"Upload",label:"字段5",componentProps:{previewColumns:[{title:"url5",dataIndex:"url5"},{title:"type5",dataIndex:"type5"},{title:"name5",dataIndex:"name5"},{title:"operation",dataIndex:"",customRender:({record:r})=>n(l,{onclick:()=>{s.success("请到控制台查看该行输出结果")}},()=>"点我输出该行信息")}],beforePreviewData:r=>r.filter(e=>!!e).map(e=>{if(typeof e=="string")return{url5:e,type5:e.split(".").pop()||"",name5:e.split("/").pop()||""}}),resultField:"data5.url",api:(r,a)=>new Promise(e=>{p(r,a).then(t=>{e({code:200,data5:{url:t.data.url}})})})}},{field:"field6",component:"Upload",label:"字段6",componentProps:{maxNumber:2,previewColumns:({handleRemove:r,handleAdd:a})=>[{title:"url6",dataIndex:"url6"},{title:"type6",dataIndex:"type6"},{title:"操作1",dataIndex:"operation",customRender:({record:e})=>n("div",{},[n(l,{type:"primary",style:"margin:4px",onclick:()=>{a({record:{id6:new Date().getTime(),url6:"https://vebn.oss-cn-beijing.aliyuncs.com/vben/logo.png"},uidKey:"id6",valueKey:"url6"})}},()=>"点我新增"),n(l,{danger:!0,onclick:()=>{r({record:{url6:e.url6},uidKey:"url6",valueKey:"url6"})}},()=>"点我删除")])}],beforePreviewData:r=>r.filter(e=>!!e).map(e=>{var t,u;if(typeof e=="object")return{uid:e==null?void 0:e.uid,url6:e==null?void 0:e.url,type6:((t=e==null?void 0:e.url)==null?void 0:t.split(".").pop())||"",name6:((u=e==null?void 0:e.url)==null?void 0:u.split("/").pop())||""}}),resultField:"data6.url",api:(r,a)=>new Promise(e=>{p(r,a).then(t=>{e({code:200,data6:{url:t.data.url}})})})}}],[i,{getFieldsValue:x}]=m({labelWidth:160,schemas:d,actionColOptions:{span:18},submitFunc:()=>new Promise(r=>{r(),s.success("请到控制台查看结果")})});return(r,a)=>(_(),b(v,null,[n(o(y),{message:"嵌入表单,自定义预览内容"}),n(o(c),{onRegister:o(i),class:"my-5"},null,8,["onRegister"])],64))}});export{R as _};

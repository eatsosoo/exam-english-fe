import{i as p}from"./mock-api-Btehnvii.js";import{P as d}from"./index-DnpQZsBg.js";import{b4 as e,j as i,aD as m,E as f,B as C,O as B}from"./antd-BFwNME3X.js";import{d as o,k as u,G as t,f as F}from"./vue-DhXvXWyK.js";import{u as D}from"./index-Bl3eMUS3.js";import"./entry/index-BcidWyMC.js";import"./PageWrapper.vue_vue_type_style_index_0_lang-wgu38p8X.js";import"./useContentViewHeight-CCI8OV4I.js";import"./useWindowSizeFn-SAmktNkd.js";import"./onMountedOrActivated-CvY6VkYA.js";const c=o({setup(){let n=0;const a=F(""),{loading:l,run:s}=D(p,{manual:!0,retryCount:3,onError:r=>{i.error(r.message+` count: ${n++}.`)}});return()=>u(B,{title:"错误重试"},{default:()=>[u(e,null,{default:()=>[u(e.Paragraph,null,{default:()=>[t("通过设置"),u(e.Text,{type:"danger"},{default:()=>[t(" options.retryCount ")]}),t("，指定错误重试次数，则 useRequest 在失败后会进行重试。")]}),u(e.Text,{code:!0},{default:()=>["const { data, run } = useRequest(imitateApi, { retryCount: 3 });"]})]}),u(m,{class:"mt-4"},{default:()=>[u(f,{value:a.value,"onUpdate:value":r=>a.value=r,placeholder:"Please enter username"},null),u(C,{type:"primary",disabled:l.value,onClick:()=>s(a.value,!1)},{default:()=>[l.value?"Loading":"Edit"]})]})]})}}),R=o({setup(){return()=>u(d,{title:"错误重试"},{default:()=>[u(c,null,null)],headerContent:()=>u(e,null,{default:()=>[u(e.Paragraph,null,{default:()=>[t("通过设置"),u(e.Text,{type:"danger"},{default:()=>[t(" options.retryCount ")]}),t("，指定错误重试次数，则 useRequest 在失败后会进行重试。")]}),u(e.Paragraph,null,{default:()=>[u(e.Text,null,{default:()=>[u("pre",null,[`// useRequestOption
retryCount?: number; // -1, 无限次重试
retryInterval?: number; // 重试时间间隔，单位为毫秒。如果不设置，默认采用简易的指数退避算法`])]})]})]})})}});export{R as default};

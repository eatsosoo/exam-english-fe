var M=Object.defineProperty;var u=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var f=(a,e,t)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,p=(a,e)=>{for(var t in e||(e={}))N.call(e,t)&&f(a,t,e[t]);if(u)for(var t of u(e))R.call(e,t)&&f(a,t,e[t]);return a};import{u as w}from"./index-DVzcH--h.js";import{_ as A}from"./BasicTable.vue_vue_type_script_setup_true_lang-wYzSQTfH.js";import"./TableImg.vue_vue_type_style_index_0_lang-D3F4T3v_.js";import{_ as B}from"./index-BKjGR123.js";import{u as D}from"./useTable-CjgbZnnJ.js";import{a as V}from"./entry/index-BcidWyMC.js";import{_ as $}from"./AddStudentModal.vue_vue_type_script_setup_true_lang-Cq8BlZMd.js";import{d as v,a7 as E,Z as _,_ as G,k as r,a9 as b,a8 as Z,u as s,ab as j,G as q,a0 as z}from"./vue-DhXvXWyK.js";const W=v({__name:"StudentTable",emits:["selectStudents"],setup(a,{expose:e,emit:t}){const{t:o}=V(),[S,{openModal:g}]=w(),k=[{title:o("table.studentName"),dataIndex:"name",align:"left"},{title:o("table.phone"),dataIndex:"phone",align:"left"},{title:o("table.email"),dataIndex:"email",align:"left"}],m=t,x=[],[C,{getDataSource:d}]=D({columns:k,showIndexColumn:!0,dataSource:x,actionColumn:{width:160,title:o("table.action"),dataIndex:"action"},scroll:{y:"100%"},pagination:!1});e({getDataSource:d});function h(l){const n=d(),i=n.findIndex(c=>c.key===l.key);n.splice(i,1),m("selectStudents",n)}function y(l){const n=d();l.forEach(i=>{n.some(c=>c.id===i.id)||n.push(p({},i))}),m("selectStudents",n)}function I(l){return[{label:o("table.delete"),onClick:h.bind(null,l)}]}return(l,n)=>{const i=E("a-button");return _(),G("div",null,[r(s(A),{onRegister:s(C)},{bodyCell:b(({column:c,record:T})=>[c.key==="action"?(_(),Z(s(B),{key:0,actions:I(T)},null,8,["actions"])):j("",!0)]),_:1},8,["onRegister"]),r(i,{block:"",class:"mt-5",type:"dashed",onClick:s(g)},{default:b(()=>[q(z(s(o)("form.addStudentToClass")),1)]),_:1},8,["onClick"]),r($,{title:s(o)("form.addStudentToClass"),onRegister:s(S),onSelectStudents:y},null,8,["title","onRegister"])])}}});export{W as _};

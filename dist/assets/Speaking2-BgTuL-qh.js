var y=(m,p,t)=>new Promise((a,r)=>{var o=e=>{try{n(t.next(e))}catch(i){r(i)}},f=e=>{try{n(t.throw(e))}catch(i){r(i)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,f);n((t=t.apply(m,p)).next())});import{c as w,a as h,b as C,d as A}from"./entry/index-BcidWyMC.js";import{T as E}from"./index-C3lnRWnE.js";import{a as _}from"./data-C-2nBY8q.js";import{d as M}from"./exam-CAJo7aCX.js";import{d as V,f as b,w as j,Z as q,_ as T,k as g,a9 as S,u as d,$ as x,a0 as B}from"./vue-DhXvXWyK.js";import{aa as D,ab as F}from"./antd-BFwNME3X.js";import"./uuid-D0SLUWHI.js";import"./onMountedOrActivated-CvY6VkYA.js";const I={class:"bg-white px-2 mb-8"},N={class:"p-4 mt-4 re-box-shadow rounded-lg"},P=V({__name:"Speaking2",props:{value:{type:Array,default:_},type:{type:String,default:"writing"}},setup(m,{expose:p}){const t=m,{t:a}=h(),r=b(!1),o=b(t.value),{createErrorModal:f,createSuccessModal:n}=C(),{prefixCls:e}=w("register");function i(l){return y(this,null,function*(){var c;try{r.value=!0;const{subject:s,questions:u,id:k}=o.value[0],v={id:k||null,exam_id:l,type:"Speaking",subject:s,questions:u,duration:500,media:null,questions_count:u.length};(yield M(v))&&n({title:a("form.exam.editSkill",{skill:"Speaking"}),content:a("common.createSuccessfully"),getContainer:()=>document.body.querySelector(`.${e}`)||document.body})}catch(s){if(s.errorFields)return;const u=(c=s.response)==null?void 0:c.data.message;f({title:a("sys.api.errorTip"),content:u||s.message||a("sys.api.networkExceptionMsg"),getContainer:()=>document.body.querySelector(`.${e}`)||document.body})}finally{r.value=!1}})}return j(()=>t.value,l=>{o.value=l.length===0?_:l}),p({submitAll:i}),(l,c)=>(q(),T("div",I,[g(d(F),{gutter:[16,16]},{default:S(()=>[g(d(D),{span:24},{default:S(()=>[x("div",N,[x("h3",null,B(d(a)("common.writingSubject")),1),g(d(E),{modelValue:o.value[0].subject,"onUpdate:modelValue":c[0]||(c[0]=s=>o.value[0].subject=s),width:"100%"},null,8,["modelValue"])])]),_:1})]),_:1})]))}}),O=A(P,[["__scopeId","data-v-0cbfb0d8"]]);export{O as default};
